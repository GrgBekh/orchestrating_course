ЛР № 1

Задание:

Написать два Dockerfile – плохой и хороший. Написать две плохие практики по использованию контейнеров

Описание:

Плохой Dockerfile должен запускаться и работать корректно, но в нём должно быть не менее 3 “bad practices”. В хорошем они должны быть исправлены.
В Readme описать все плохие практики из кода Dockerfile и почему они плохие, как они были исправлены в хорошем Dockerfile,
а также две плохие практики по использованию этого контейнера. Написать два случая, когда НЕ стоит использовать контейнеры в целом

Плохие и хорошие практики избранные мной:

1) Плохо читаемый и более медленный (не факт) COPY:

COPY ./requirements.txt /app/requirements.txt
COPY ./data /app/data
COPY ./notebooks /app/notebooks

Лучше собрать в одну строку (пример но уже с VOLUME из good practice):
VOLUME ["/app/notebooks", "/app/src", "/app/data"]

2) Копирование данных в контейнер:

COPY ./data /app/data

Лучше монтировать VOLUME как в пункте 1

3) Незафиксированная версия:

FROM jupyterhub/jupyterhub:latest
С учетом того, что есть зависимости в requirements.txt лучше выбрать версию, иначе все может полететь
FROM jupyterhub/jupyterhub:3.1.1

Два кейса когда лучше не использовать контейнеры:

1) Монолитная архитектура приложения

Что делать если все-таки монолит?
Пилить на микросервисы, как всегда

2) Statefull приложения

Контейнеры эфимерные и stateless by design, для хранения состояний лучше использовать специальные для этого вещи.


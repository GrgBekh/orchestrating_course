- **Задача**
    
    Установить Kubernetes на локальную машину (приведен пример для minikube на Windows 10/11). Развернуть тестовый сервис

- **Задание**
    
    Осуществить махинации над манифестами из примера, чтоб получить следующее:
    
    - Для постгреса перенести `POSTGRES_USER` и `POSTGRES_PASSWORD` из конфигмапы в секреты (очевидно, понадобится новый манифест для сущности Secret)
    - Для некстклауда перенести его переменные (`NEXTCLOUD_UPDATE`, `ALLOW_EMPTY_PASSWORD` и проч.) из деплоймента в конфигмапу (очевидно, понадобится новый манифест для сущности ConfigMap)
    - Для некстклауда добавить `Liveness` и `Readiness` пробы
 
- **Отчетность**
  
  Ссылка на git-репозиторий от команды, где содержится
  
  - Все нужные манифесты
  - README.md с описанием хода работы и скриншотами
  - Ответы на доп. вопросы
 
- **Вопросы**
  - Вопрос: важен ли порядок выполнения этих манифестов (pg_configmap.yml, pg_service.yml, pg_deployment.yml)? Почему?
  - Вопрос: что (и почему) произойдет, если отскейлить количество реплик postgres-deployment в 0, затем обратно в 1, после чего попробовать снова зайти на Nextcloud?


- **Результаты**

Версия minikube

![1](./assets/Version.PNG)

Запуск minikube

![2](./assets/Start.PNG)

Контейнер minikube

![3](./assets/Container_exist.PNG)

Создаем инстансы

![4](./assets/Pg_configmap.PNG)
![5](./assets/Pg_deployment.PNG)
![6](./assets/Pg_secret.PNG)

Проверяем что они появились

![7](./assets/Get.PNG)

Nextcloud запустился

![8](./assets/Nextcloud.PNG)

Nextcloud едет

![9](./assets/NextcloudWorking.PNG)

Лягущка

![10](./assets/nextcloud_frog.PNG)

Дашборд из доп задания

![11](./assets/Dash.PNG)

- **Ответы на вопросы**
  - Порядок не повлияет если запустить все нужные, но pg deployment не будет работать без нужных ему configmap и secrets. Deployment создаст поду когда все нужные ему ресурсы будут готовы.
  - Если это вопрос с подвохом и если поменять без kubectl apply -f <pg_deployment> то ничего, а если перезапускать то он удалит поду с постгрей, nextcloud должен упасть, если вернуть базу данных обратно nextcloud потеряет к ней коннект, она пересоздастся, там не перезаведуться кредиты админки так как они заводятся при создании nextcloud, так как база новая и придется заводить акк админа.
